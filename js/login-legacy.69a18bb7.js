"use strict";(self["webpackChunkwat_vue"]=self["webpackChunkwat_vue"]||[]).push([[535],{3811:(s,e,t)=>{t.r(e),t.d(e,{default:()=>h});var o=function(){var s=this,e=s._self._c;s._self._setupProxy;return e("div",{staticClass:"login-container"},[s._m(0),e("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:s.loginForm,autocomplete:"on","label-position":"left"}},[e("el-form-item",{attrs:{prop:"username"}},[e("el-input",{ref:"username",attrs:{placeholder:"账号",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:s.loginForm.username,callback:function(e){s.$set(s.loginForm,"username",e)},expression:"loginForm.username"}},[e("svg-icon",{attrs:{slot:"prefix",name:"user"},slot:"prefix"})],1)],1),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{key:s.passwordType,ref:"password",attrs:{type:s.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on"},model:{value:s.loginForm.password,callback:function(e){s.$set(s.loginForm,"password",e)},expression:"loginForm.password"}},[e("svg-icon",{attrs:{slot:"prefix",name:"password"},slot:"prefix"}),e("span",{staticClass:"show-pwd",attrs:{slot:"suffix"},on:{click:s.showPassword},slot:"suffix"},[e("svg-icon",{attrs:{name:"password"===s.passwordType?"eye-off":"eye-on"}})],1)],1)],1),e("el-form-item",{attrs:{prop:"subject"}},[e("el-select",{ref:"subject",staticStyle:{width:"100%"},attrs:{placeholder:"请选择学科",name:"subject"},model:{value:s.loginForm.subject,callback:function(e){s.$set(s.loginForm,"subject",e)},expression:"loginForm.subject"}},[e("svg-icon",{attrs:{slot:"prefix",name:"password"},slot:"prefix"}),e("el-option",{attrs:{label:"生物",value:"shanghai"}}),e("el-option",{attrs:{label:"物理",value:"beijing"}})],1)],1),e("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{loading:s.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),s.handleLogin.apply(null,arguments)}}},[s._v(" 登录 ")])],1)],1)},r=[function(){var s=this,e=s._self._c;s._self._setupProxy;return e("div",{staticClass:"title-container"},[e("h3",{staticClass:"title"},[s._v("初中学业水平考试")])])}],a=t(6835),n=t(8534),i=t(2482),l=(t(3948),t(7658),t(2900)),p=t(9041),u=t(7405);let c=class extends p.w3{constructor(...s){super(...s),(0,i.Z)(this,"loginForm",{username:"admin",password:"111111",subject:""}),(0,i.Z)(this,"passwordType","password"),(0,i.Z)(this,"loading",!1),(0,i.Z)(this,"capsTooltip",!1),(0,i.Z)(this,"username",void 0),(0,i.Z)(this,"password",void 0),(0,i.Z)(this,"form",void 0)}mounted(){""===this.loginForm.username?this.username.focus():""===this.loginForm.password&&this.password.focus()}showPassword(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((()=>{this.password.focus()}))}handleLogin(){var s=this;this.form.validate(function(){var e=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return s.loading=!0,e.next=4,u.z.login(s.loginForm);case 4:s.$router.push("/").catch((s=>{console.warn(s)})),s.loading=!1,e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}())}};(0,l.gn)([(0,p.Rl)("username")],c.prototype,"username",void 0),(0,l.gn)([(0,p.Rl)("password")],c.prototype,"password",void 0),(0,l.gn)([(0,p.Rl)("loginForm")],c.prototype,"form",void 0),c=(0,l.gn)([(0,p.wA)({name:"LoginView",components:{}})],c);const d=c,m=d;var f=t(1001),w=(0,f.Z)(m,o,r,!1,null,"9f0161bc",null);const h=w.exports}}]);
//# sourceMappingURL=login-legacy.69a18bb7.js.map